<?php
require_once($_SERVER["DOCUMENT_ROOT"]."/classes/CoreKit/SQLResult.inc");

/**
 *	Klassen ModifyResult innehller den information som ges av databashanteraren
 *	d en frga av typen INSERT, UPDATE, DELETE eller liknande.
 *
 *	@version	Version 		0.1.1\n
 *				Skapad: 		2005-12-06\n
 *				Senast ndrad: 	2005-12-12
 *	@author 	Johan Holmberg, johan@yamborii.net
 */
class ModifyResult extends SQLResult {
	private $_id;
	private $_rows;

	/**
	 *	Skapar en instans av UpdateResult.
	 *
	 *	@param	$connection r en referens till det DBConnection som genererade
	 *			detta SQLResult.
	 *	@param	$SQLQuery r den frga som stlldes till databashanteraren.
	 */
	public function __construct($connection, $SQLQuery) {
		parent::__construct($connection, $SQLQuery);
		
		$this->_id = mysql_insert_id($connection->getConnection());
		$this->_rows = mysql_affected_rows($connection->getConnection());
	}
	
	/**
	 *	Tar reda p vilket ID-nummer den senast insatta raden fick.
	 *	Om frgan inte var av INSERT-slaget, returneras istllet 0.
	 *
	 *	@return Returnerar ett heltal.
	 */
	public function getID() {
		return intval($this->_id);
	}
	  
	/**
	 *	Tar reda p antalet rader som pverkades av den senaste frgan.
	 *
	 *	@return Returnerar ett heltal.
	 */
	public function getNbrOfAffectedRows() {
		return intval($this->_rows);
	}
}
?>